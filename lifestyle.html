<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CAS-LIF | ä¸»è§‚è®¤çŸ¥ä¸èŠ‚å¾‹çŠ¶æ€</title>
    <style>
        body { 
            font-family: -apple-system, sans-serif; 
            background: #f8fafc; 
            margin: 0; 
            padding: 20px; 
        }
        .container { 
            max-width: 650px; 
            margin: 20px auto; 
            background: white; 
            padding: 35px 30px; 
            border-radius: 20px; 
            box-shadow: 0 10px 25px rgba(0,0,0,0.05); 
        }
        .module-header { 
            color: #0f172a; 
            margin-top: 0; 
            font-size: 24px; 
            border-bottom: 2px solid #e2e8f0; 
            padding-bottom: 15px; 
            margin-bottom: 25px; 
        }
        .sys-btn { 
            background: #0f172a; 
            color: white; 
            border: none; 
            padding: 18px 30px; 
            font-size: 16px; 
            font-weight: bold; 
            border-radius: 12px; 
            cursor: pointer; 
            margin: 10px 0; 
            width: 100%; 
            transition: 0.2s; 
            box-shadow: 0 4px 10px rgba(0,0,0,0.1); 
        }
        .sys-btn:active { transform: scale(0.98); } 
        .hidden { display: none !important; }
        
        #nav-back { 
            display: inline-flex; 
            align-items: center; 
            text-decoration: none; 
            color: #3b82f6; 
            font-weight: bold; 
            margin-bottom: 15px; 
            padding: 10px 18px; 
            background: #eff6ff; 
            border-radius: 10px; 
            transition: 0.2s; 
        } 
        #nav-back:active { background: #dbeafe; }
        
        /* é—®å·é¡¹æ ·å¼ */
        .q-group { 
            margin-bottom: 25px; 
            padding-bottom: 20px; 
            border-bottom: 1px dashed #e2e8f0; 
        } 
        .q-group label { 
            display: block; 
            font-weight: bold; 
            color: #1e293b; 
            margin-bottom: 12px; 
            font-size: 16px; 
        }
        select, input[type="time"] { 
            width: 100%; 
            padding: 15px; 
            border-radius: 10px; 
            border: 2px solid #cbd5e1; 
            font-size: 16px; 
            background: #f8fafc; 
            outline: none; 
            transition: 0.2s; 
            box-sizing: border-box; 
        }
        select:focus, input[type="time"]:focus { 
            border-color: #3b82f6; 
            background: white; 
        }
    </style>
    <script src="cas-storage.js"></script>
</head>
<body>
    <div style="text-align: left; max-width: 650px; margin: 0 auto;">
        <a href="index.html" id="nav-back">â† è¿”å›æ§åˆ¶å°</a>
    </div>
    
    <div class="container" id="menu">
        <h2 class="module-header">ğŸŒ™ è¡°é€€é¢„è­¦ä¸ç”Ÿç‰©èŠ‚å¾‹</h2>
        <button class="sys-btn" onclick="show('scd-area');">1. SCD-Q ä¸»è§‚è®¤çŸ¥ä¸‹é™é—®å·</button>
        <button class="sys-btn" style="background:#3b82f6;" onclick="show('sleep-area');">2. ç¡çœ ç»“æ„ä¸èŠ‚å¾‹ç‰¹å¾</button>
    </div>

    <div class="container hidden" id="scd-area">
        <h2 class="module-header">ä¸»è§‚è®¤çŸ¥ä¸‹é™ (SCD-Q)</h2>
        <div class="q-group">
            <label>1. æ‚¨è§‰å¾—è‡ªå·±çš„è®°å¿†åŠ›æ˜¯å¦æ­£åœ¨ä¸‹é™ï¼Ÿ</label>
            <select id="scd-1">
                <option value="0">æ²¡æœ‰æ˜æ˜¾å˜åŒ–</option>
                <option value="1">å¶å°”æ„Ÿè§‰ä¸‹é™</option>
                <option value="2">æ˜æ˜¾æ„Ÿè§‰ä¸‹é™</option>
            </select>
        </div>
        <div class="q-group">
            <label>2. è¿™ç§è®°å¿†ä¸‹é™æ˜¯å¦å¼•èµ·äº†æ‚¨çš„æ‹…å¿§ï¼Ÿ</label>
            <select id="scd-2">
                <option value="0">å®Œå…¨ä¸æ‹…å¿§</option>
                <option value="1">æœ‰ä¸€ç‚¹æ‹…å¿§</option>
                <option value="2">éå¸¸æ‹…å¿§</option>
            </select>
        </div>
        <button class="sys-btn" style="background:#10b981;" onclick="saveSCD()">âœ“ ä¿å­˜é—®å·ç»“æœ</button>
    </div>

    <div class="container hidden" id="sleep-area">
        <h2 class="module-header">ç”Ÿç‰©èŠ‚å¾‹è´¨æ§</h2>
        <div class="q-group">
            <label>1. è¿‡å»ä¸€ä¸ªæœˆï¼Œæ‚¨é€šå¸¸æ™šä¸Šå‡ ç‚¹å…¥ç¡ï¼Ÿ</label>
            <input type="time" id="slp-1" value="23:00">
        </div>
        <div class="q-group">
            <label>2. ç¡çœ ç¢ç‰‡åŒ–ç¨‹åº¦ (å¤œé—´é€šå¸¸é†’æ¥å‡ æ¬¡ï¼Ÿ)</label>
            <select id="slp-2">
                <option value="0">0æ¬¡ (ä¸€è§‰åˆ°å¤©äº®)</option>
                <option value="1">1-2æ¬¡</option>
                <option value="2">3æ¬¡åŠä»¥ä¸Š</option>
            </select>
        </div>
        <button class="sys-btn" style="background:#10b981;" onclick="saveSleep()">âœ“ ä¿å­˜èŠ‚å¾‹ç‰¹å¾</button>
    </div>

    <script>
        function show(id) { 
            ['menu', 'scd-area', 'sleep-area'].forEach(d => {
                document.getElementById(d).classList.add('hidden');
            }); 
            document.getElementById(id).classList.remove('hidden'); 
        }

        // ä¿å­˜ SCD é—®å·æ•°æ®
        function saveSCD() { 
            CAS_Storage.saveModuleData('Lifestyle_SCD', { 
                memory_decline: parseInt(document.getElementById('scd-1').value), 
                worry: parseInt(document.getElementById('scd-2').value) 
            }); 
            alert("ä¸»è§‚è®¤çŸ¥é¢„è­¦å·²åŒæ­¥"); 
            show('menu'); 
        }

        // ä¿å­˜ç¡çœ èŠ‚å¾‹æ•°æ®
        function saveSleep() { 
            CAS_Storage.saveModuleData('Lifestyle_Sleep', { 
                bedtime: document.getElementById('slp-1').value, 
                awakenings: parseInt(document.getElementById('slp-2').value) 
            }); 
            alert("ç”Ÿç‰©èŠ‚å¾‹æ•°æ®å·²åŒæ­¥"); 
            show('menu'); 
        }
    </script>
</body>
</html>
